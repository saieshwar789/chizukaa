<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chizukaa - The Art of Five</title>

    <!-- FAVICON -->
    <link rel="icon" type="image/png" href="https://i.ibb.co/LX685jHx/image-1.png">
    <link rel="apple-touch-icon" href="https://i.ibb.co/LX685jHx/image-1.png">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=Playfair+Display:wght@700;800&display=swap" rel="stylesheet">

    <style>
        /* CSS Variables */
        :root {
            --color-bg-primary: #1a1a1a;
            --color-bg-secondary: #2a2a2a;
            --color-accent-action-red: #D82222;
            --color-text: #f5f5f5;
            --font-heading: 'Playfair Display', serif;
            --font-body: 'Inter', sans-serif;
        }

        /* Global Styles */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; background-color: var(--color-bg-primary); }
        body { font-family: var(--font-body); background-color: var(--color-bg-primary); color: var(--color-text); overflow-x: hidden; }
        h1, h2, h3 { font-family: var(--font-heading); color: var(--color-accent-action-red); font-weight: 700; }
        p { line-height: 1.7; color: rgba(245, 245, 245, 0.8); }
        .container { max-width: 1100px; margin: 0 auto; padding: 0 20px; }
        section { padding: 100px 0; }

        /* Animations */
        .fade-in { opacity: 0; transform: translateY(30px); transition: opacity 0.8s ease-out, transform 0.8s ease-out; }
        .fade-in.visible { opacity: 1; transform: translateY(0); }
        @keyframes nudge-right { 0%, 100% { transform: translateY(-50%) translateX(0); } 50% { transform: translateY(-50%) translateX(5px); } }
        
        /* General hidden class */
        .hidden { display: none !important; }

        /* Hero Section */
        .hero {
            height: 100vh; display: flex; flex-direction: column; justify-content: flex-end; align-items: center;
            padding: 0 20px 80px 20px; min-height: 600px; text-align: center;
            background: var(--color-accent-action-red) url('https://i.ibb.co/LX685jHx/image-1.png') no-repeat center center / contain;
            background-blend-mode: darken;
        }
        
        /* Buttons */
        .cta-button {
            display: inline-block; background-color: var(--color-accent-action-red); color: var(--color-text);
            padding: 15px 35px; font-size: 1rem; font-weight: 700; text-decoration: none;
            border: 2px solid var(--color-text); border-radius: 50px; text-transform: uppercase;
            letter-spacing: 1px; transition: all 0.3s ease; box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5); cursor: pointer;
        }
        .cta-button:hover { transform: translateY(-5px); background-color: #E53935; }

        /* Menu Section */
        #menu h2 { text-align: center; font-size: 3rem; margin-bottom: 50px; }
        .menu-scroll-wrapper { position: relative; overflow-x: scroll; padding: 20px 0; -ms-overflow-style: none; scrollbar-width: none; }
        .menu-scroll-wrapper::-webkit-scrollbar { display: none; }
        .menu-container { display: flex; width: max-content; gap: 40px; padding: 0 40px; }
        .menu-item { flex: 0 0 320px; background: var(--color-bg-secondary); border-radius: 15px; overflow: hidden; transition: transform 0.4s ease; display: flex; flex-direction: column; }
        .menu-item:hover { transform: translateY(-10px); }
        .menu-item-img { width: 100%; height: 250px; object-fit: cover; }
        .menu-item-content { padding: 25px; display: flex; flex-direction: column; flex-grow: 1; }
        .menu-item-title { font-size: 1.8rem; color: var(--color-text); margin-bottom: 10px; }
        .menu-item-description { font-size: 0.95rem; margin-bottom: 20px; flex-grow: 1; }
        .menu-item-footer { display: flex; justify-content: space-between; align-items: center; }
        .menu-item-price { font-size: 1.5rem; font-weight: 700; color: var(--color-text); }
        
        /* Item Order Controls */
        .item-order-control { display: flex; align-items: center; justify-content: center; min-width: 105px; }
        .add-item-btn {
            background: var(--color-accent-action-red); color: #fff; padding: 8px 30px; border-radius: 5px;
            font-size: 0.9rem; font-weight: 500; transition: background-color 0.3s;
            border: none; cursor: pointer; width: 100%;
        }
        .add-item-btn:hover { background-color: #E53935; }

        .quantity-selector {
            display: flex; align-items: center; justify-content: space-between;
            border: 1px solid var(--color-accent-action-red); border-radius: 5px;
            overflow: hidden; width: 100%;
        }
        .quantity-selector .quantity-btn {
            background: var(--color-accent-action-red); border: none; color: var(--color-text);
            width: 32px; height: 32px; font-size: 1.2rem; cursor: pointer;
            display: flex; justify-content: center; align-items: center;
        }
        .quantity-selector .item-quantity-display {
            font-weight: bold; padding: 0 10px;
        }
        
        .scroll-indicator {
            display: none; position: absolute; right: 15px; top: 50%; transform: translateY(-50%);
            width: 45px; height: 45px; background-color: rgba(26, 26, 26, 0.8); border: 1px solid var(--color-text);
            color: var(--color-text); border-radius: 50%; justify-content: center; align-items: center;
            cursor: pointer; animation: nudge-right 1.8s ease-in-out infinite; z-index: 10; transition: opacity 0.3s ease;
        }
        .scroll-indicator.hidden { opacity: 0; pointer-events: none; }
        
        /* Shortcut Button Container */
        .place-order-shortcut-container {
            text-align: center; margin-top: 40px; transition: opacity 0.4s, transform 0.4s, height 0.4s, margin 0.4s;
        }
        .place-order-shortcut-container.hidden {
            opacity: 0; transform: translateY(-20px); pointer-events: none; height: 0; overflow: hidden; margin-top: 0;
        }

        /* Other Sections */
        #story, #testimonials { background: var(--color-bg-secondary); }
        .story-container { display: flex; align-items: center; gap: 50px; }
        .story-content, .story-image { flex: 1; }
        .story-content h2, #process h2, #testimonials h2 { font-size: 3rem; margin-bottom: 50px; text-align: center; }
        .story-image { max-width: 450px; border-radius: 10px; overflow: hidden; }
        .story-image img { width: 100%; display: block; }
        .process-container, .testimonials-container { display: flex; justify-content: space-around; gap: 30px; text-align: center; }
        .process-step, .testimonial-card { max-width: 350px; }
        .process-step h3 { font-size: 1.5rem; margin: 15px 0 10px 0; }
        .testimonial-card { background: var(--color-bg-primary); padding: 30px; border-radius: 10px; border-left: 5px solid var(--color-accent-action-red); }
        .testimonial-card p { font-style: italic; margin-bottom: 15px; }
        .testimonial-author { font-weight: bold; color: var(--color-text); }

        /* Order Form & Cart Section */
        #order-now { text-align: center; }
        #order-now h2 { font-size: 3rem; margin-bottom: 20px; }
        #order-now p { max-width: 600px; margin: 0 auto 40px auto; }
        .cart-container {
            max-width: 600px; margin: 0 auto 40px auto; background: var(--color-bg-secondary);
            border-radius: 10px; padding: 25px; text-align: left; border: 1px solid #444;
        }
        .cart-container h3 { text-align: center; margin-bottom: 20px; }
        #cart-items { display: grid; gap: 15px; }
        .cart-item {
            display: grid; grid-template-columns: 1fr auto auto; align-items: center; gap: 15px;
            padding-bottom: 10px; border-bottom: 1px solid #444;
        }
        .cart-item:last-child { border-bottom: none; }
        .item-name { font-weight: 500; }
        .item-controls { display: flex; align-items: center; gap: 10px; }
        .cart-item-qty-btn {
            background: var(--color-bg-primary); border: 1px solid #555; color: var(--color-text);
            width: 30px; height: 30px; border-radius: 50%; cursor: pointer; font-size: 1.2rem;
            display: flex; justify-content: center; align-items: center; line-height: 1;
        }
        .item-qty { font-weight: bold; }
        #cart-total {
            margin-top: 20px; padding-top: 15px; border-top: 2px solid var(--color-accent-action-red);
            display: flex; justify-content: space-between; font-size: 1.5rem; font-weight: bold;
        }
        #cart-empty-msg { text-align: center; color: rgba(245, 245, 245, 0.6); font-style: italic; }
        .order-form { max-width: 600px; margin: 0 auto; display: grid; gap: 20px; }
        .form-group { text-align: left; }
        .form-group label { display: block; margin-bottom: 8px; font-weight: 500; color: rgba(245, 245, 245, 0.8); }
        .form-group input, .form-group textarea {
            width: 100%; padding: 12px; background-color: var(--color-bg-secondary);
            border: 1px solid #444; border-radius: 5px; color: var(--color-text);
            font-family: var(--font-body); font-size: 1rem; transition: border-color 0.3s;
        }
        .form-group input:focus, .form-group textarea:focus { outline: none; border-color: var(--color-accent-action-red); }
        .form-group textarea { resize: vertical; min-height: 120px; }
        #form-result { margin-top: 20px; font-weight: bold; line-height: 1.5; }

        /* Footer */
        footer { background: #111; padding: 50px 20px; text-align: center; }
        .footer-logo { font-family: var(--font-heading); font-size: 2rem; color: var(--color-accent-action-red); margin-bottom: 20px; }
        .footer-links a { color: var(--color-text); text-decoration: none; margin: 0 15px; transition: color 0.3s; }
        .footer-links a:hover { color: var(--color-accent-action-red); }
        .footer-copyright { margin-top: 20px; font-size: 0.9rem; color: rgba(245, 245, 245, 0.5); }

        /* Responsive */
        @media (max-width: 1024px) { .scroll-indicator { display: flex; } }
        @media (max-width: 900px) { .story-container { flex-direction: column; } .story-image { max-width: 100%; } }
        @media (max-width: 768px) {
            section { padding: 60px 0; }
            h2, .story-content h2, #process h2, #testimonials h2 { font-size: 2.5rem !important; }
            .menu-item { flex-basis: 280px; }
            .process-container, .testimonials-container { flex-direction: column; align-items: center; }
        }
    </style>
</head>
<body>

    <section class="hero">
        <a href="#menu" class="cta-button">View Our Menu</a>
    </section>

    <main>
        <section id="menu">
            <div class="container">
                <h2 class="fade-in">Our Signature Collection</h2>
            </div>
            <div class="menu-scroll-wrapper fade-in">
                <div class="menu-container">
                    <!-- Menu Items with NEW interactive controls -->
                    <div class="menu-item">
                        <img src="https://images.unsplash.com/photo-1589302168068-964664d93dc0?auto=format&fit=crop&q=80&w=870" alt="Chicken Biryani" class="menu-item-img">
                        <div class="menu-item-content">
                            <h3 class="menu-item-title">The Royal Biryani</h3>
                            <p class="menu-item-description">A regal blend of aromatic basmati rice, tender chicken, and a secret mix of spices, slow-cooked to perfection.</p>
                            <div class="menu-item-footer">
                                <span class="menu-item-price">₹250</span>
                                <div class="item-order-control" data-item="The Royal Biryani" data-price="250">
                                    <button class="add-item-btn">Add</button>
                                    <div class="quantity-selector hidden">
                                        <button class="quantity-btn decrease-item-btn">-</button>
                                        <span class="item-quantity-display">1</span>
                                        <button class="quantity-btn increase-item-btn">+</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="menu-item">
                        <img src="https://images.unsplash.com/photo-1527477396000-e27163b481c2?auto=format&fit=crop&q=80&w=870" alt="Chicken Wings" class="menu-item-img">
                        <div class="menu-item-content">
                            <h3 class="menu-item-title">Fiery Wings</h3>
                            <p class="menu-item-description">Crispy, juicy wings tossed in a blazing house-made sauce that is dangerously addictive. A true test of passion.</p>
                            <div class="menu-item-footer">
                                <span class="menu-item-price">₹220</span>
                                <div class="item-order-control" data-item="Fiery Wings" data-price="220">
                                    <button class="add-item-btn">Add</button>
                                    <div class="quantity-selector hidden">
                                        <button class="quantity-btn decrease-item-btn">-</button>
                                        <span class="item-quantity-display">1</span>
                                        <button class="quantity-btn increase-item-btn">+</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="menu-item">
                        <img src="./lollipop.png?auto=format&fit=crop&q=80&w=870" alt="Chicken Lollipop" class="menu-item-img">
                        <div class="menu-item-content">
                            <h3 class="menu-item-title">Glazed Lollipops</h3>
                            <p class="menu-item-description">Succulent chicken lollipops, Frenched and fried, then glazed in a sweet, spicy, and savory sauce. Irresistible.</p>
                            <div class="menu-item-footer">
                                <span class="menu-item-price">₹240</span>
                                 <div class="item-order-control" data-item="Glazed Lollipops" data-price="240">
                                    <button class="add-item-btn">Add</button>
                                    <div class="quantity-selector hidden">
                                        <button class="quantity-btn decrease-item-btn">-</button>
                                        <span class="item-quantity-display">1</span>
                                        <button class="quantity-btn increase-item-btn">+</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="menu-item">
                        <img src="./naatukodi.png?auto=format&fit=crop&q=80&w=870" alt="Naatukodi" class="menu-item-img">
                        <div class="menu-item-content">
                            <h3 class="menu-item-title">Rustic Naatukodi</h3>
                            <p class="menu-item-description">Authentic country chicken, slow-cooked with rustic, hand-pounded spices. A robust, traditional flavor.</p>
                            <div class="menu-item-footer">
                                <span class="menu-item-price">₹300</span>
                                <div class="item-order-control" data-item="Rustic Naatukodi" data-price="300">
                                    <button class="add-item-btn">Add</button>
                                    <div class="quantity-selector hidden">
                                        <button class="quantity-btn decrease-item-btn">-</button>
                                        <span class="item-quantity-display">1</span>
                                        <button class="quantity-btn increase-item-btn">+</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="menu-item">
                        <img src="https://images.unsplash.com/photo-1572802419224-296b0aeee0d9?auto=format&fit=crop&q=80&w=815" alt="Chicken Burger" class="menu-item-img">
                        <div class="menu-item-content">
                            <h3 class="menu-item-title">The Ultimate Burger</h3>
                            <p class="menu-item-description">A perfectly seasoned, crispy fried chicken fillet, topped with tangy slaw and a secret sauce in a toasted brioche bun.</p>
                            <div class="menu-item-footer">
                                <span class="menu-item-price">₹180</span>
                                <div class="item-order-control" data-item="The Ultimate Burger" data-price="180">
                                    <button class="add-item-btn">Add</button>
                                    <div class="quantity-selector hidden">
                                        <button class="quantity-btn decrease-item-btn">-</button>
                                        <span class="item-quantity-display">1</span>
                                        <button class="quantity-btn increase-item-btn">+</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="scroll-indicator"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg></div>
            </div>
            <!-- Shortcut button, initially hidden -->
            <div id="place-order-shortcut-container" class="place-order-shortcut-container hidden">
                <a href="#order-now" class="cta-button">Proceed to Order</a>
            </div>
        </section>

        <section id="story">
            <div class="container story-container">
                <div class="story-content fade-in">
                    <h2>Our Obsession</h2>
                    <p>Chizukaa was born from a simple belief: do a few things exceptionally well rather than many things merely okay. We are obsessed with perfecting chicken. Each of our five signature dishes is a masterpiece, the result of countless hours of testing, tasting, and a relentless pursuit of flavor. This isn't just a kitchen; it's our craft, served to you.</p>
                </div>
                <div class="story-image fade-in">
                    <img src="https://images.unsplash.com/photo-1556911220-e15b29be8c8f?auto=format&fit=crop&q=80&w=870" alt="Chef preparing food">
                </div>
            </div>
        </section>

        <section id="process">
            <div class="container">
                <h2 class="fade-in">How It Works</h2>
                <div class="process-container">
                    <div class="process-step fade-in"><h3>1. You Choose</h3><p>Use the 'Add' or '+' buttons to build your order from our curated menu.</p></div>
                    <div class="process-step fade-in"><h3>2. We Craft</h3><p>Your meal is prepared fresh, with passion and the finest ingredients, the moment you place your order.</p></div>
                    <div class="process-step fade-in"><h3>3. We Deliver</h3><p>Hot, fresh, and full of flavor, delivered straight to your doorstep. We'll call to confirm.</p></div>
                </div>
            </div>
        </section>

        <section id="testimonials">
            <div class="container">
                <h2 class="fade-in">What People Say</h2>
                <div class="testimonials-container">
                    <div class="testimonial-card fade-in"><p>"The best Chicken Wings I've had in this city. Period. That glaze is something else!"</p><div class="testimonial-author">- Anjali R.</div></div>
                    <div class="testimonial-card fade-in"><p>"Finally, a biryani that tastes authentic and isn't just a plate of colored rice. The chicken was so tender. 10/10."</p><div class="testimonial-author">- @FoodieForLife</div></div>
                </div>
            </div>
        </section>
        
        <section id="order-now">
            <div class="container">
                <h2 class="fade-in">Place Your Order</h2>
                <p class="fade-in">Review your order below. When you're ready, fill out your details to complete the purchase.</p>
                
                <div class="cart-container fade-in">
                    <h3>Your Order</h3>
                    <div id="cart-items">
                        <p id="cart-empty-msg">Your order is empty.</p>
                    </div>
                    <div id="cart-total" class="hidden">
                        <span>Total</span>
                        <span id="total-price">₹0</span>
                    </div>
                </div>

                <form id="order-form" class="order-form fade-in" action="https://api.web3forms.com/submit" method="POST">
                    <input type="hidden" name="access_key" value="ba282db2-7e3a-4ea3-82f3-581b3717459c">
                    <input type="hidden" name="subject" value="New Order from Chizukaa Website!">
                    <input type="hidden" name="from_name" value="Chizukaa Order Bot">
                    <input type="checkbox" name="botcheck" class="hidden" style="display: none;">
                    <input type="hidden" name="order_summary" id="order-summary-input">
                    <input type="hidden" name="total_price" id="total-price-input">

                    <div class="form-group"><label for="name">Full Name</label><input type="text" id="name" name="name" required></div>
                    <div class="form-group"><label for="phone">Phone Number</label><input type="tel" id="phone" name="phone" required></div>
                    <div class="form-group"><label for="address">Delivery Address</label><textarea id="address" name="address" required></textarea></div>

                    <button type="submit" class="cta-button" id="submit-button">Place Order</button>
                    <div id="form-result"></div>
                </form>
            </div>
        </section>
    </main>

    <footer>
        <div class="footer-logo">Chizukaa</div>
        <div class="footer-links">
            <a href="#menu">Menu</a>
            <a href="#story">Our Story</a>
            <a href="#order-now">Order Now</a>
        </div>
        <p class="footer-copyright">Operating Hours: 12:00 PM - 11:00 PM | Delivering across the city.</p>
        <p class="footer-copyright">© 2024 Chizukaa Cloud Kitchen. All Rights Reserved.</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            let cart = []; // Array of objects: { name, price, quantity }
            
            // DOM Cache
            const cartItemsContainer = document.getElementById('cart-items');
            const cartEmptyMsg = document.getElementById('cart-empty-msg');
            const cartTotalDiv = document.getElementById('cart-total');
            const totalPriceSpan = document.getElementById('total-price');
            const orderSummaryInput = document.getElementById('order-summary-input');
            const totalPriceInput = document.getElementById('total-price-input');
            const shortcutContainer = document.getElementById('place-order-shortcut-container');
            const allMenuItemControls = document.querySelectorAll('.item-order-control');

            function findItemInCart(itemName) {
                return cart.find(item => item.name === itemName);
            }

            function updateCart(itemName, price, change) {
                const itemInCart = findItemInCart(itemName);
                if (itemInCart) {
                    itemInCart.quantity += change;
                    if (itemInCart.quantity <= 0) {
                        cart = cart.filter(item => item.name !== itemName);
                    }
                } else if (change > 0) {
                    cart.push({ name: itemName, price: parseFloat(price), quantity: 1 });
                }
                renderUI();
            }

            function renderMenuControls() {
                allMenuItemControls.forEach(control => {
                    const itemName = control.dataset.item;
                    const itemInCart = findItemInCart(itemName);
                    const addButton = control.querySelector('.add-item-btn');
                    const quantitySelector = control.querySelector('.quantity-selector');
                    const quantityDisplay = control.querySelector('.item-quantity-display');

                    if (itemInCart) {
                        addButton.classList.add('hidden');
                        quantitySelector.classList.remove('hidden');
                        quantityDisplay.textContent = itemInCart.quantity;
                    } else {
                        addButton.classList.remove('hidden');
                        quantitySelector.classList.add('hidden');
                    }
                });
            }

            function renderCart() {
                cartItemsContainer.innerHTML = '';
                let total = 0;

                if (cart.length === 0) {
                    cartItemsContainer.appendChild(cartEmptyMsg);
                    cartEmptyMsg.style.display = 'block';
                    cartTotalDiv.classList.add('hidden');
                } else {
                    cartEmptyMsg.style.display = 'none';
                    cart.forEach((item, index) => {
                        const itemTotal = item.price * item.quantity;
                        total += itemTotal;
                        const cartItemDiv = document.createElement('div');
                        cartItemDiv.className = 'cart-item';
                        cartItemDiv.innerHTML = `
                            <span class="item-name">${item.name}</span>
                            <div class="item-controls">
                                <button class="cart-item-qty-btn decrease-qty-btn" data-item="${item.name}">-</button>
                                <span class="item-qty">${item.quantity}</span>
                                <button class="cart-item-qty-btn increase-qty-btn" data-item="${item.name}">+</button>
                            </div>
                            <span class="item-price">₹${itemTotal}</span>`;
                        cartItemsContainer.appendChild(cartItemDiv);
                    });
                    cartTotalDiv.classList.remove('hidden');
                    totalPriceSpan.textContent = `₹${total}`;
                }
                shortcutContainer.classList.toggle('hidden', cart.length === 0);
            }

            function renderUI() {
                renderCart();
                renderMenuControls();
            }

            // Event Delegation for all interactive elements
            document.body.addEventListener('click', (e) => {
                const target = e.target;

                if (target.matches('.add-item-btn, .increase-item-btn')) {
                    const control = target.closest('.item-order-control');
                    updateCart(control.dataset.item, control.dataset.price, 1);
                } else if (target.matches('.decrease-item-btn')) {
                    const control = target.closest('.item-order-control');
                    updateCart(control.dataset.item, control.dataset.price, -1);
                } else if (target.matches('.increase-qty-btn')) {
                    updateCart(target.dataset.item, null, 1);
                } else if (target.matches('.decrease-qty-btn')) {
                    updateCart(target.dataset.item, null, -1);
                }
            });
            
            // --- Other Initializations (Fade-in, Scroll Indicator) ---
            const observer = new IntersectionObserver((entries) => entries.forEach(entry => entry.target.classList.toggle('visible', entry.isIntersecting)), { threshold: 0.1 });
            document.querySelectorAll('.fade-in').forEach(el => observer.observe(el));
            const menuWrapper = document.querySelector('.menu-scroll-wrapper');
            const scrollIndicator = document.querySelector('.scroll-indicator');
            const handleScrollIndicator = () => { if(menuWrapper && scrollIndicator) { const isScrollable = menuWrapper.scrollWidth > menuWrapper.clientWidth; scrollIndicator.classList.toggle('hidden', !isScrollable || (menuWrapper.scrollLeft + menuWrapper.clientWidth >= menuWrapper.scrollWidth - 5)); }};
            scrollIndicator.addEventListener('click', () => menuWrapper.scrollBy({ left: 340, behavior: 'smooth' }));
            menuWrapper.addEventListener('scroll', handleScrollIndicator);
            window.addEventListener('load', handleScrollIndicator);
            window.addEventListener('resize', handleScrollIndicator);

            // --- Form Submission Logic ---
            const form = document.getElementById('order-form');
            const resultDiv = document.getElementById('form-result');
            const submitButton = document.getElementById('submit-button');
            form.addEventListener('submit', function(e) {
                e.preventDefault();
                if (cart.length === 0) {
                    resultDiv.innerHTML = "Your order is empty. Please add items from the menu.";
                    resultDiv.style.color = '#f44336';
                    setTimeout(() => { resultDiv.innerHTML = ''; }, 4000);
                    return;
                }
                
                let summary = cart.map(item => `${item.quantity} x ${item.name} (₹${item.price * item.quantity})`).join('\n');
                let total = cart.reduce((acc, item) => acc + (item.price * item.quantity), 0);
                orderSummaryInput.value = summary;
                totalPriceInput.value = `₹${total}`;

                const formData = new FormData(form);
                const customerName = formData.get('name').split(' ')[0];
                const object = {};
                formData.forEach((value, key) => { object[key] = value });
                const json = JSON.stringify(object);
                
                resultDiv.innerHTML = "Placing your order...";
                resultDiv.style.color = 'var(--color-text)';
                submitButton.disabled = true;

                fetch('https://api.web3forms.com/submit', { method: 'POST', headers: { 'Content-Type': 'application/json', 'Accept': 'application/json' }, body: json })
                .then(async (response) => {
                    let jsonResponse = await response.json();
                    if (response.status == 200) {
                        const confirmationNumber = `CZK-${String(Date.now()).slice(-6)}`;
                        resultDiv.innerHTML = `Thank you, ${customerName}! Your order #${confirmationNumber} has been placed. We'll call you shortly to confirm.`;
                        resultDiv.style.color = '#4CAF50';
                    } else {
                        resultDiv.innerHTML = jsonResponse.message;
                        resultDiv.style.color = '#f44336';
                    }
                })
                .catch(error => {
                    resultDiv.innerHTML = "Something went wrong! Please try again.";
                    resultDiv.style.color = '#f44336';
                })
                .then(() => {
                    form.reset();
                    cart = [];
                    renderUI();
                    submitButton.disabled = false;
                    setTimeout(() => { resultDiv.innerHTML = ''; }, 10000);
                });
            });
        });
    </script>
</body>
</html>
